# Финансовый менеджер — Telegram бот + MiniApp

## Описание проекта

Telegram бот для управления личными финансами с MiniApp-интерфейсом. Пользователи ведут учёт доходов и расходов по категориям, ставят цели накопления, фиксируют рабочие смены, задают бюджеты по категориям и лимиты на день, ведут учёт подписок и долгов. Аналитика и календарь помогают видеть динамику и планировать траты. Backend на Python (aiogram + FastAPI), фронт — React + Recharts, БД — PostgreSQL (SQLAlchemy).

## Основной функционал

### 1. Дашборд и транзакции

Главный экран с балансом, последними операциями и прогрессом по целям. Быстрое добавление дохода или расхода через отдельный экран с выбором категории, суммы и даты. Список транзакций с фильтрацией и историей.

### 2. Категории и бюджеты

Настраиваемые категории расходов/доходов. Бюджеты по категориям на месяц с опцией уведомлений при достижении порога (95%, 100%, превышение). Ежемесячные лимиты с возможностью переноса остатка на следующий день.

### 3. Цели накопления

Создание целей с целевой суммой, дедлайном и эмодзи. Внесение и снятие средств по целям, отображение прогресса на дашборде и на отдельном экране с детализацией по каждой цели.

### 4. Рабочие смены

Учёт смен: дата, время начала/окончания, ставка за час, автоматический расчёт заработка. Шаблоны смен для быстрого добавления повторяющихся вариантов.

### 5. Подписки

Учёт подписок (название, сумма, категория, день списания). Отображение следующей даты списания и напоминания.

### 6. Долги

Учёт долгов «я должен» и «мне должны»: контакт, сумма, описание, срок. Частичное погашение с историей платежей, статусы активен/погашен/просрочен.

### 7. Аналитика и календарь

Аналитика по периодам и категориям (графики на Recharts). Календарь для просмотра транзакций и планирования по датам.

### 8. Уведомления

Внутриприложенные уведомления (превышение бюджета, напоминания о подписках и долгах). Интеграция с Telegram для отправки уведомлений пользователю (scheduler + сервис уведомлений).

### 9. Админка

Экран админа: список пользователей, просмотр деталей пользователя (транзакции, цели, смены и т.д.) для поддержки и модерации.

## Технические решения

### Backend

- **Python**, **aiogram** — Telegram бот (команды /start, /help, открытие Mini App).
- **FastAPI** — REST API: транзакции, смены, цели, бюджеты, подписки, лимиты на день, аналитика, долги, уведомления, админ-эндпоинты.
- **SQLAlchemy** — модели и CRUD. Модели: User, Transaction, WorkShift, Goal, GoalTransaction, Budget, Subscription, DailyLimit, Debt, DebtPayment, Notification, ShiftTemplate.
- **PostgreSQL** (asyncpg/psycopg2) — хранение данных.
- **Scheduler** — фоновые задачи (напоминания, уведомления в Telegram).

### Frontend (Mini App)

- **React 18**, **TypeScript**, **Vite** — сборка и разработка.
- **React Router** — маршруты: дашборд, добавление транзакции, история, смены, цели, календарь, меню, категории, аналитика, месячные лимиты, админ.
- **Tailwind CSS** — стили. **Recharts** — графики аналитики.
- **axios** — запросы к API. Интеграция с Telegram Web App (viewport, тема, initData для идентификации пользователя).

### Безопасность и данные

- Идентификация пользователя по `telegram_id` из initData Mini App.
- Валидация и проверка прав на бэкенде; админ-функции по списку разрешённых ID.

## Результаты

- 13+ экранов Mini App, 10+ API-модулей (транзакции, цели, смены, бюджеты, подписки, лимиты, аналитика, долги, уведомления, админ).
- Единый бот: вход в Mini App и уведомления в Telegram.
- Гибкая модель данных (категории, бюджеты, цели, долги) и визуализация через Recharts.
