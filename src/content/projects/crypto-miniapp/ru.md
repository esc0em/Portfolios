# Crypto — Мониторинг крипторынка (Telegram Mini App)

## Описание проекта

Telegram Mini App для трейдеров, инвесторов и энтузиастов крипторынка. Приложение агрегирует новости из ведущих криптоизданий (CoinDesk, CoinTelegraph, CryptoSlate), формирует AI-саммари каждой статьи, отображает текущее положение рынка — лидеров роста и падения, общую капитализацию, объём торгов, индекс Fear & Greed — и даёт аналитику торговых условий: плюсы и минусы входа в рынок прямо сейчас. Backend на Python (aiogram + FastAPI), парсинг по расписанию с кэшированием в Redis, фронт — React + Recharts + Tailwind CSS.

## Основной функционал

### 1. Дашборд рынка

Главный экран приложения. Карточки с ключевыми метриками: общая капитализация крипторынка, объём торгов за 24 часа, доминация Bitcoin, индекс Fear & Greed с цветовой шкалой (Extreme Fear → Extreme Greed). Мини-графики изменения капитализации и объёма за последние 7 дней. Обновление данных каждые 5 минут через CoinGecko API.

### 2. Топ монет — лидеры и аутсайдеры

Экран с двумя табами: «Лидеры роста» и «Лидеры падения». Сортировка по изменению цены за 1 час, 24 часа или 7 дней. Каждая карточка монеты: название, тикер, цена, процент изменения, мини-спарклайн-график, объём торгов. Поддержка 50+ монет из топа по капитализации. Переключение валюты отображения (USD, EUR, RUB).

### 3. Лента новостей с AI-саммари

Лента новостей, собранных парсером из CoinDesk, CoinTelegraph и CryptoSlate. Каждая новость содержит: заголовок, источник, время публикации, AI-саммари (краткое содержание в 2–3 предложения, сгенерированное через OpenAI API), тег настроения (Bullish / Bearish / Neutral). Фильтрация по источнику и тегу. Подгрузка по скроллу (infinite scroll). До 200+ новостей в день.

### 4. Детальная страница монеты

По нажатию на монету открывается подробная страница: интерактивный график цены (1д / 7д / 30д / 1г) на Recharts, ключевые метрики (Market Cap, Volume 24h, Circulating Supply, ATH, ATL), блок «Плюсы и минусы покупки сейчас» — автоматически формируемый анализ на основе RSI, тренда цены, объёмов и новостного фона. Связанные новости по тикеру монеты.

### 5. Аналитика торговых условий

Отдельный экран с обзором текущих условий для торговли. Секция «Плюсы»: растущий тренд по ключевым монетам, увеличение объёмов, позитивный новостной фон, низкий Fear & Greed (зона возможностей). Секция «Минусы»: перегретый RSI, падение объёмов, негативные регуляторные новости, экстремальная жадность (риск коррекции). Каждый фактор с иконкой, кратким пояснением и степенью влияния (высокий / средний / низкий).

### 6. Избранное и уведомления

Watchlist: добавление монет в избранное для быстрого доступа. Настройка алертов: уведомление в Telegram при достижении целевой цены (выше / ниже порога), при резком изменении цены (±5% за час), при появлении важной новости по отслеживаемой монете. Уведомления через Telegram бот (aiogram + scheduler).

### 7. Настройки

Выбор валюты отображения (USD, EUR, RUB). Частота уведомлений (мгновенно / раз в час / дайджест утром). Тёмная и светлая тема (синхронизация с темой Telegram). Язык интерфейса (русский / английский).

### 8. Админ-панель

Управление источниками парсинга (вкл/выкл источники, добавление новых RSS/URL). Модерация новостей (скрытие нерелевантных). Статистика: количество пользователей, популярные монеты, частота открытий. Ручной запуск парсера и очистка кэша.

## Технические решения

### Backend

- **Python**, **aiogram** — Telegram бот (команды /start, /help, /alerts, открытие Mini App через Web App кнопку).
- **FastAPI** — REST API: эндпоинты для монет (список, детали, графики), новостей (лента, фильтры), аналитики (торговые условия, плюсы/минусы), избранного, алертов, настроек пользователя, админ-функций.
- **Redis** — кэширование данных CoinGecko (TTL 5 мин), кэш новостей (TTL 15 мин), очередь задач парсера.
- **APScheduler** — планировщик: парсинг новостей каждые 15 минут, обновление рыночных данных каждые 5 минут, проверка алертов каждую минуту, генерация AI-саммари для новых статей.
- **CoinGecko API** — данные по монетам: цены, объёмы, капитализация, исторические графики.
- **NewsAPI / RSS-парсинг** — сбор новостей из CoinDesk, CoinTelegraph, CryptoSlate через RSS-фиды и API.
- **OpenAI API** — генерация кратких саммари и тегов настроения для новостей, формирование блока «плюсы/минусы» для монет.

### Frontend (Mini App)

- **React 18**, **TypeScript**, **Vite** — сборка и разработка.
- **React Router** — маршруты: дашборд, топ монет, лента новостей, детали монеты, аналитика, избранное, настройки, админ.
- **Tailwind CSS** — адаптивные стили, тёмная/светлая тема. **Recharts** — графики цен и аналитики.
- **axios** — запросы к API. **SWR** — кэширование и ревалидация данных на клиенте.
- Интеграция с Telegram Web App SDK: viewport, тема, haptic feedback, initData для идентификации пользователя.

### Безопасность и данные

- Идентификация пользователя по `telegram_id` из initData Mini App.
- Rate limiting на API (защита от злоупотреблений).
- Валидация данных на бэкенде; админ-функции по списку разрешённых Telegram ID.

## Результаты

- 8 экранов Mini App, 50+ отслеживаемых монет, 200+ новостей в день с AI-саммари.
- Реал-тайм аналитика рынка: Fear & Greed, лидеры роста/падения, торговые условия.
- Персонализация: watchlist, алерты по цене, выбор валюты и темы.
- Единый бот: вход в Mini App, уведомления по алертам и дайджесты в Telegram.
