const r=`# Хаб — Telegram Mini App (бизнес-платформа)\r
\r
## Описание проекта\r
\r
Telegram Mini App (веб-приложение внутри Telegram) для производителей, дистрибьюторов и дилеров. Единая платформа с AI-советником, нетворкингом, консультациями, календарём событий, базой знаний и админ-панелью. Построено на React, Express и PostgreSQL с интеграцией бота на Telegraf.\r
\r
## Целевая аудитория\r
\r
- Производители\r
- Дистрибьюторы\r
- Дилеры\r
\r
Доступ к разделам регулируется тарифами (free / premium) и ролями (участник / сотрудник компании). Регистрация через заявку с последующим одобрением администратором.\r
\r
## Основной функционал\r
\r
### 1. AI-советник\r
\r
Интеграция с Dify: пользователи задают вопросы, получают ответы с возможностью прикрепления файлов. Учёт тарифа и прав (для сотрудников — доступ только при одобренной анкете руководителя).\r
\r
### 2. Нетворкинг\r
\r
Запросы на знакомство между пользователями, фильтры, статусы (pending / принято / отклонено). Лимиты по тарифам (например, 10 запросов в месяц на free). Входящие заявки отображаются на главной.\r
\r
### 3. Консультации\r
\r
Запись на консультации по доступным слотам. Заявки хранятся в БД, отображаются в админке. Календарь слотов и управление ими.\r
\r
### 4. Календарь событий\r
\r
Просмотр и управление событиями. Интеграция с API событий, отображение в календарном виде.\r
\r
### 5. База знаний и видео-канал\r
\r
Раздел с материалами и видео. Для премиум-пользователей — доступ к закрытому Telegram-каналу: проверка членства через API, выдача инвайт-ссылки при необходимости.\r
\r
### 6. Тарифы и заявки\r
\r
Экран тарифов (free / premium). Заявки на вступление в Хаб (типы: company, consultation, stanislav). Модерация заявок, одобрение профиля компании и анкеты сотрудника.\r
\r
### 7. «Моя компания»\r
\r
Заполнение анкеты компании после одобрения заявки на Хаб. Промежуточный уровень доступа (до полной регистрации).\r
\r
### 8. Спросить Станислава\r
\r
Отправка вопросов в отдельный тип заявок с отображением в админке.\r
\r
### 9. Новости\r
\r
Лента новостей с возможностью публикации и модерации через админку.\r
\r
### 10. Админ-панель\r
\r
Управление пользователями, тикетами, событиями, консультациями, рассылками, запросами на нетворкинг. Назначение админов, блокировка пользователей, управление контентом (новости, видео, превью).\r
\r
### 11. Анкета сотрудника\r
\r
Отдельный экран для роли «сотрудник»: заполнение профиля сотрудника, ожидание одобрения работодателем. После одобрения — доступ к AI-советнику и остальным разделам по тарифу.\r
\r
## Технические решения\r
\r
### Frontend\r
\r
- **React 19**, **Vite** (сборка)\r
- **Tailwind CSS**, **Lucide React** (иконки)\r
- **@twa-dev/sdk** — интеграция с Telegram Web App (тема, viewport, initData, пользователь)\r
- Многоэкранная навигация (home, about, tariffs, ai_advisor, networking, calendar, knowledge_base, my_company, news, admin и др.)\r
- Локализация (ru/en), определение языка из Telegram или localStorage\r
\r
### Backend\r
\r
- **Node.js**, **Express 5**\r
- **PostgreSQL** — пользователи, профили, заявки, нетворкинг, тарифы, события, консультации, новости, модерация, привязка к telegram_id\r
- **Telegraf** — бот: команды /start, /help, /profile, /stats (для админов), открытие Mini App\r
- REST API: health, заявки, события, нетворкинг, слоты консультаций, админ-эндпоинты (users, tickets, events, consultations, broadcasts, networking-requests), канал (check-access, invite для видео-канала), загрузка превью и вложений AI\r
\r
### Роли и доступ\r
\r
- Роли: member, employee. Проверка is_admin, is_blocked, hub_approved, employer_approved, video_channel_joined.\r
- Кеширование статуса регистрации в localStorage (5 минут) для быстрого отображения с последующей сверкой с сервером.\r
\r
### DevOps и безопасность\r
\r
- **Docker & Docker Compose** — backend, frontend, PostgreSQL, telegram-bot, Nginx\r
- **Nginx** — прокси, SSL (Let's Encrypt), rate limiting, security headers\r
- Автоматические бэкапы (cron), скрипт деплоя (deploy.sh): setup, update, backup, status\r
- Переменные окружения в .env (не в git), non-root пользователи в контейнерах\r
\r
## Результаты\r
\r
- 15+ экранов приложения, 12+ функциональных модулей\r
- Полноценный REST API и интеграция с Dify для AI\r
- Тарифная модель и двухуровневая модерация (Хаб + компания/сотрудник)\r
- Готовый продакшен-деплой с Docker, Nginx и бэкапами\r
`;export{r as default};
